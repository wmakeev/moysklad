{"version":3,"sources":["../../src/__tests__/error.test.js"],"names":["test","require","nodeFetch","Moysklad","skip","t","ms","fetch","productsCollection","GET","filter","code","patch","rows","map","id","product","buyPrice","currency","meta","href","metadataHref","type","mediaType","value","minPrice","patched","POST","console","log","length"],"mappings":"AAAA;;;;AAEA,MAAMA,OAAOC,QAAQ,WAAR,CAAb;AACA,MAAMC,YAAYD,QAAQ,YAAR,CAAlB;AACA,MAAME,WAAWF,QAAQ,IAAR,CAAjB;;AAEAD,KAAKI,IAAL,CAAU,UAAV;AAAA,+BAAsB,WAAMC,CAAN,EAAW;AAC/B,UAAMC,KAAKH,SAAS;AAClBI,aAAOL;AADW,KAAT,CAAX;;AAIA,QAAIM,qBAAqB,MAAMF,GAAGG,GAAH,CAAO,gBAAP,EAAyB;AACtDC,cAAQ;AACNC,cAAM;AADA;AAD8C,KAAzB,CAA/B;;AAMA,QAAIC,QAAQJ,mBAAmBK,IAAnB,CAAwBC,GAAxB,CAA4B,mBAAW;AACjD,aAAO;AACLC,YAAIC,QAAQD,EADP;AAELE,kBAAU;AACRC,oBAAU;AACRC,kBAAM;AACJC,oBAAM,8DACJ,sCAFE;AAGJC,4BAAc,mEAHV;AAIJC,oBAAM,UAJF;AAKJC,yBAAW;AALP;AADE,WADF;AAURC,iBAAOR,QAAQS;AAVP;AAFL,OAAP;AAeD,KAhBW,CAAZ;;AAkBA,QAAIC,UAAU,MAAMpB,GAAGqB,IAAH,CAAQ,gBAAR,EAA0Bf,KAA1B,CAApB;;AAEAgB,YAAQC,GAAR,CAAYH,QAAQI,MAApB;AACD,GAhCD;;AAAA;AAAA;AAAA;AAAA","file":"error.test.js","sourcesContent":["'use strict'\n\nconst test = require('blue-tape')\nconst nodeFetch = require('node-fetch')\nconst Moysklad = require('..')\n\ntest.skip('Moysklad', async t => {\n  const ms = Moysklad({\n    fetch: nodeFetch\n  })\n\n  let productsCollection = await ms.GET('entity/product', {\n    filter: {\n      code: []\n    }\n  })\n\n  let patch = productsCollection.rows.map(product => {\n    return {\n      id: product.id,\n      buyPrice: {\n        currency: {\n          meta: {\n            href: 'https://online.moysklad.ru/api/remap/1.1/entity/currency/' +\n              '18dad23e-8263-45ea-b399-58b34d513aa7',\n            metadataHref: 'https://online.moysklad.ru/api/remap/1.1/entity/currency/metadata',\n            type: 'currency',\n            mediaType: 'application/json'\n          }\n        },\n        value: product.minPrice\n      }\n    }\n  })\n\n  let patched = await ms.POST('entity/product', patch)\n\n  console.log(patched.length)\n})\n"]}